webpackJsonp([6,17],{"KM/8":function(e,t){e.exports='<div class="main-content">\n    <div class="container-fluid">\n        <div class="row">\n            <div class="col-md-12">\n                <div class="card">\n                    <div class="card-header card-header-icon" data-background-color="rose">\n                        <i class="material-icons">language</i>\n                    </div>\n                    <div class="card-content">\n                        <h4 class="card-title">Websites assigned to me</h4>\n                        <div class="loader" *ngIf="showLoading">\n                            <svg class="circular" viewBox="25 25 50 50">\n                                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                            </svg>\n                        </div>\n                        <button class="btn btn-success btn-round btn-fab btn-fab-mini pull-right" style="margin-left:15px" type="button" (click)="tableToExcel(\'mywebsites\')"\n                            *ngIf="tableData1.dataRows.length > 0"><i class="material-icons ">get_app</i>\n                        </button>\n                        <div class="table-responsive">\n                            <table class="table" *ngIf="tableData1.dataRows.length > 0" id="mywebsites">\n                                <thead>\n                                    <tr>\n                                        <th class="text-center">{{ tableData1.headerRow[0] }}</th>\n                                        <th>{{ tableData1.headerRow[1] }}</th>\n                                        <th>{{ tableData1.headerRow[2] }}</th>\n                                        <th>{{ tableData1.headerRow[3] }}</th>\n                                        <th class="text-right">{{ tableData1.headerRow[4] }}</th>\n                                        <th class="text-right">{{ tableData1.headerRow[5] }}</th>\n                                        <th class="text-right">{{ tableData1.headerRow[6] }}</th>\n                                        <th class="text-right">{{ tableData1.headerRow[7] }}</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr *ngFor="let row of tableData1.dataRows" onmouseenter="$(this).tooltip()">\n                                        <td class="text-center">{{row[0]}}</td>\n                                        <td>{{row[1]}}</td>\n                                        <td>{{row[2]}}</td>\n                                        <td>{{row[3]}}</td>\n                                        <td class="text-right">{{row[4]}}</td>\n                                        <td class="text-right"><span *ngIf="row[8]" rel="tooltip" data-placement="bottom" title="Achieve optimization goal (-3 secs)"><i class="material-icons text-success" style="font-size:14px" >check_circle</i></span>                                            {{row[5]}} </td>\n                                        <td class="text-right">{{row[6]}} </td>\n                                        <td class="td-actions text-right">\n                                            <button type="button" rel="tooltip" data-placement="bottom" title="Refresh" class="btn btn-info {{row[6]}}" data-toggle="modal"\n                                                data-target="#myModal" (click)="openDetails(row[9])">\n                                                      <i class="material-icons">search</i>\n                                                  </button>\n                                            \x3c!-- <button type="button" rel="tooltip" class="btn btn-success {{row[7]}}">\n                                                      <i class="material-icons">edit</i>\n                                                  </button> --\x3e\n                                            <button type="button" rel="tooltip" class="btn btn-danger {{row[7]}}" data-toggle="modal" data-target="#delete" (click)="delete(row[9], index)">\n                                                      <i class="material-icons">close</i>\n                                                  </button>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" *ngIf="websiteDetails.agent">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                        <i class="material-icons">clear</i>\n                    </button>\n                    <h3 class="modal-title" style="font-weight:bold">{{websiteDetails.url}}</h3>\n                    <span class="text-muted">Created at: {{websiteDetails.date | date: \'yyyy/MM/dd HH:mm\'}}</span>\n                </div>\n                <div class="modal-body">\n                    <div class="row">\n                        <div class="col-md-4" style="border-bottom: 1px solid #eee; padding-bottom:20px">\n                            <strong> Agent:</strong> <br/>{{websiteDetails.agent.name}} <br/>({{websiteDetails.agent.email}})\n                        </div>\n                        <div class="col-md-4" style="border-bottom: 1px solid #eee; padding-bottom:20px">\n                            <strong> Account Manager:</strong> <br/>{{websiteDetails.salesRep.name}} <br/>({{websiteDetails.salesRep.email}})\n                        </div>\n                        <div class="col-md-4" style="border-bottom: 1px solid #eee; padding-bottom:20px;">\n                            <strong> Market:</strong> <br/> {{websiteDetails.market.description}} <br/> {{websiteDetails.language.description}}\n                        </div>\n                        <div class="col-md-4" style="padding-top:20px">\n                            <strong> Page Speed Insights:</strong> <br/>\n                            <span class="text-danger">Score Before: <strong>{{websiteDetails.retest.psiBefore}}</strong> </span><br/>\n                            <span class="text-success">Score After: <strong>{{websiteDetails.retest.psiAfter}} <span *ngIf="websiteDetails.retest.psiAfter == null">{{websiteDetails.retest.psiBefore}}</span></strong>\n                            </span><br/>\n                            <button class="btn btn-danger btn-block" (click)="runNewPSI(websiteDetails.rowKey, websiteDetails.url)" *ngIf="!showLoadingPSI">\n                                    <span class="btn-label">\n                                        <i class="material-icons">refresh</i>\n                                    </span>\n                                    Update Score After\n                            </button>\n                            <div class="loader" *ngIf="showLoadingPSI" style="position:relative; width:30px; padding-top:10px; top:20px">\n                                <svg class="circular" viewBox="25 25 50 50">\n                                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                                </svg>\n                            </div>\n                            {{statusPSI.statusText}}\n                        </div>\n                        <div class="col-md-4" style="padding-top:20px">\n                            <strong> Web Page Test:</strong> <br/>\n                            <span class="text-danger" style="padding-right:10px">Speed Index Before: <strong>{{websiteDetails.retest.wptBefore}}</strong> </span>                            <a *ngIf="websiteDetails.retest.wptBeforeUrl != null" class="text-muted" href="{{websiteDetails.retest.wptBeforeUrl}}"\n                                target="_blank">| Link <i class="material-icons" style="font-size:14px" >launch</i></a><br/>\n\n                            <span class="text-success" style="padding-right:10px">Speed Index After: <strong>{{websiteDetails.retest.wptAfter}}</strong> </span>                            <span class="text-muted" *ngIf="websiteDetails.retest.wptAfter == null">Waiting for test</span>                            <a *ngIf="websiteDetails.retest.wptAfter != null" class="text-muted" href="{{websiteDetails.retest.wptAfterUrl}}"\n                                target="_blank">| Link <i class="material-icons" style="font-size:14px" >launch</i></a><br/>\n\n                            <button class="btn btn-info btn-block" (click)="runNewWPT(websiteDetails.rowKey, websiteDetails.retest.wptAfterTestId)" *ngIf="!showLoadingWPT">\n                                    <span class="btn-label">\n                                        <i class="material-icons">refresh</i>\n                                    </span>\n                                    Update Speed Index After\n                            </button>\n                            <div class="loader" *ngIf="showLoadingWPT" style="position:relative; width:30px; padding-top:10px; top:20px">\n                                <svg class="circular" viewBox="25 25 50 50">\n                                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                                </svg>\n                            </div>\n                            {{statusWPT.statusText}}\n                        </div>\n                        <div class="col-md-4" style="padding-top:20px">\n                            <strong> Settings:</strong> <br/> Run new tests rate: <br/><strong><span class="text-muted" *ngIf="websiteDetails.retest.rate == \'day\'">Every day at midnight</span> <span class="text-muted" *ngIf="websiteDetails.retest.rate == \'debug\'">Debug</span></strong>\n                            <button type="button" class="btn btn-warning btn-block" aria-hidden="true" data-toggle="modal" data-target="#testHistory"\n                                (click)="getVersionHistory(websiteDetails.rowKey)">\n                                <i class="material-icons">history</i> Test History\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-danger btn-simple" data-dismiss="modal">Close</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- small modal --\x3e\n    <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n        <div class="modal-dialog modal-small ">\n            <div class="modal-content" [hidden]="showLoadingDelete">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="material-icons">clear</i></button>\n                </div>\n                <div class="modal-body text-center">\n                    <h5>Are you sure you want to do this? <br/><br/><strong class="text-danger">{{websiteDetails.url}}</strong>                        will be removed from the queue. </h5>\n                </div>\n                <div class="modal-footer text-center">\n                    <button type="button" class="btn btn-simple" data-dismiss="modal">Never mind</button>\n                    <button type="button" class="btn btn-danger btn-simple" (click)="confirmDelete(websiteDetails.rowKey, websiteDetails.url, websiteDetails.index)">Yes</button>\n                </div>\n            </div>\n            <div class="loader" *ngIf="showLoadingDelete">\n                <svg class="circular" viewBox="25 25 50 50">\n                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                </svg>\n            </div>\n        </div>\n    </div>\n    \x3c!--    end small modal --\x3e\n    <div class="modal fade" id="testHistory" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" *ngIf="websiteDetails.agent">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            <i class="material-icons">clear</i>\n                        </button>\n                    <h3 class="modal-title" style="font-weight:bold">Test History for <span class="text-info">{{websiteDetails.url}}</span></h3>\n                </div>\n                <div class="modal-body">\n                    <div class="row">\n                        <div class="col-md-6">\n                            <strong> Original:</strong>\n                            <div style="border-top: 1px solid #eee; padding-top:20px; margin-top:10px">\n                                <div class="text-info" style="font-weight:bold; padding-bottom:10px">\n                                    Web Page Test\n                                </div>\n                                <span style="padding-right:10px">Speed Index Before: <strong>{{websiteDetails.retest.wptBefore}}</strong> </span>\n                            </div>\n                            <div> <a *ngIf="websiteDetails.retest.wptBeforeUrl != null" class="text-muted" href="{{websiteDetails.retest.wptBeforeUrl}}"\n                                    target="_blank">| Link <i class="material-icons" style="font-size:14px" >launch</i></a>\n                            </div>\n\n                            <div>\n                                <span style="padding-right:10px; margin-top:10px">Speed Index After: <strong>{{websiteDetails.retest.wptAfter}}</strong> </span>\n                            </div>\n\n                            <div class="text-info" style="font-weight:bold; padding-bottom:10px; padding-top:20px">\n                                Page Speed Insights\n                            </div>\n                            <div>\n                                <span>Score Before: <strong>{{websiteDetails.retest.psiBefore}}</strong> </span><br/>\n                            </div>\n                            <div>\n                                <span>Score After: <strong>{{websiteDetails.retest.psiAfter}} <span *ngIf="websiteDetails.retest.psiAfter == null">{{websiteDetails.retest.psiBefore}}</span></strong>\n                                </span>\n                            </div>\n                            <div class="text-warning" style="font-weight:bold; padding-bottom:10px; padding-top:20px">\n                                Pendings Treatments\n                            </div>\n                            <ul>\n                                <li *ngFor="let pending of websiteDetails.pageSpeedArray | greaterthan: \'ruleImpact\' : 0.0001 | lessthan: \'ruleImpact\' : 1000">\n                                    <div>{{pending.localizedRuleName}}</div>\n                                </li>\n                            </ul>\n                            <div class="text-success" style="font-weight:bold; padding-bottom:10px; padding-top:20px">\n                                Implemented Treatments\n                            </div>\n                            <ul>\n                                <li *ngFor="let pending of websiteDetails.pageSpeedArray | greaterthan: \'ruleImpact\' : 0 | lessthan: \'ruleImpact\' : 0.0001">\n                                    <div>{{pending.localizedRuleName}}</div>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="col-md-6">\n                            <strong> History:</strong>\n                            <div style="border-top: 1px solid #eee; padding-top:0px; margin-top:10px">\n                                <div class="loader" *ngIf="showLoadingHistory" style="position:relative; width:30px; padding-top:10px; top:20px">\n                                    <svg class="circular" viewBox="25 25 50 50">\n                                        <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                                    </svg>\n                                </div>\n                                <div *ngIf="versionHistory.length == 0 && !showLoadingHistory" class="text-muted text-center" style="padding-top:20px">\n                                    No records found in log history.\n                                </div>\n\n                                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">\n                                    <div class="panel panel-default" *ngFor="let version of versionHistory; let i=index">\n                                        <div class="panel-heading" role="tab" id="headingOne{{i}}">\n                                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne{{i}}" aria-expanded="true" attr.aria-controls="collapseOne{{i}}">\n                                                <h4 class="panel-title">\n                                                    <strong>{{version.category}} </strong> - Tested on {{version.date | date:\n                                                    \'dd/MM/yyyy HH:mm:ss\'}}\n                                                    <i class="material-icons">keyboard_arrow_down</i>\n                                                </h4>\n                                            </a>\n                                        </div>\n                                        <div id="collapseOne{{i}}" class="panel-collapse collapse" role="tabpanel" attr.aria-labelledby="headingOne{{i}}" *ngIf="version.category == \'PSI\'">\n                                            <div class="panel-body">\n                                                <div>\n                                                    <span>Score: <strong>{{version.pageSpeed.ruleGroups.SPEED.score}}</strong> </span><br/>\n                                                </div>\n                                                <div class="text-warning" style="font-weight:bold; padding-bottom:10px; padding-top:20px">\n                                                    Pendings Treatments\n                                                </div>\n                                                <ul>\n                                                    <li *ngFor="let pending of version.pageSpeedArray | greaterthan: \'ruleImpact\' : 0.0001 | lessthan: \'ruleImpact\' : 1000">\n                                                        <div>{{pending.localizedRuleName}}</div>\n                                                    </li>\n                                                </ul>\n                                                <div class="text-success" style="font-weight:bold; padding-bottom:10px; padding-top:20px">\n                                                    Implemented Treatments\n                                                </div>\n                                                <ul>\n                                                    <li *ngFor="let pending of version.pageSpeedArray | greaterthan: \'ruleImpact\' : 0 | lessthan: \'ruleImpact\' : 0.0001">\n                                                        <div>{{pending.localizedRuleName}}</div>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                        <div id="collapseOne{{i}}" class="panel-collapse collapse" role="tabpanel" attr.aria-labelledby="headingOne{{i}}" *ngIf="version.category == \'WPT\'">\n                                                <div class="panel-body">\n                                                    <div>\n                                                        <span>Speed Index: <strong>{{version.speedIndex}}</strong> </span>\n                                                        <a *ngIf="version.testURL != null" class="text-muted" href="{{version.testURL}}"\n                                                        target="_blank">| Link <i class="material-icons" style="font-size:14px" >launch</i></a>\n                                                    </div>\n                                                    \n                                                </div>\n                                            </div>\n                                    </div>\n                                </div>\n\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-danger btn-simple" data-dismiss="modal">Close</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},KVZL:function(e,t,a){"use strict";var s=a("Rw+2"),n=a("24R9"),i=a("+pb+"),o=(a.n(i),a("zKH5")),l=a("Ths4"),r=(a.n(l),a("kZql"));a.d(t,"a",function(){return p});var d=this&&this.__decorate||function(e,t,a,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(i<3?n(o):i>3?n(t,a,o):n(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,a){this.localStorageService=t,this.router=a,this.listMarkets=[],this.listLanguages=[],this.listTestLocation=[],this.list_json=[],this.index_json=0,this.apiUrl=r.a.apiUrl,this.http=e}return e.prototype.ngOnInit=function(){var e=this,t={};t=this.localStorageService.get("user"),this.websiteDetails={},this.websiteDetails.rate="day",this.websiteDetails.actionAfter="email",this.websiteDetails.overwrite={},this.websiteDetails.overwrite.enabled=!1,this.websiteDetails.overwrite.psiBefore=null,this.websiteDetails.overwrite.psiAfter=null,this.websiteDetails.overwrite.wptBefore=null,this.websiteDetails.overwrite.wptAfter=null,this.websiteDetails.agentName=t.fullname,this.websiteDetails.agentEmail=t.email,this.showLoading=!1,this.hideOverwrite=!0,this.headers=new n.c,this.headers.append("Content-Type","application/json"),this.headers.append("Authorization","Bearer "+t.token),0!=$(".selectpicker").length&&$(".selectpicker").selectpicker(),this.http.get(this.apiUrl+"markets/list",{headers:this.headers}).subscribe(function(t){var a=JSON.parse(t.text());e.listMarkets=a,console.log(e.listMarkets),setTimeout(function(){0!=$(".selectpicker").length&&($(".selectpicker").selectpicker(),$("select[name=selValue]").selectpicker("refresh"))},500)},function(e){for(var t=JSON.parse(e._body),a=0,s=t;a<s.length;a++){var n=s[a];$.notify({icon:"add_alert",message:n.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}}),this.http.get(this.apiUrl+"languages/list",{headers:this.headers}).subscribe(function(t){var a=JSON.parse(t.text());e.listLanguages=a,console.log(e.listLanguages),setTimeout(function(){0!=$(".selectpicker").length&&($(".selectpicker").selectpicker(),$("select[name=selValue3]").selectpicker("refresh"))},500)},function(e){for(var t=JSON.parse(e._body),a=0,s=t;a<s.length;a++){var n=s[a];$.notify({icon:"add_alert",message:n.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}}),this.http.get(this.apiUrl+"wpt/locations",{headers:this.headers}).subscribe(function(t){var a=JSON.parse(t.text());e.listTestLocation=a.response.data.location,console.log(e.listTestLocation),setTimeout(function(){0!=$(".selectpicker").length&&($(".selectpicker").selectpicker(),$(".selectpicker").selectpicker("refresh"))},500)},function(e){for(var t=JSON.parse(e._body),a=0,s=t;a<s.length;a++){var n=s[a];$.notify({icon:"add_alert",message:n.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}}),this.list_json=[{"Case Number":501436,owner:"Aline Macellone",region:"Americas",Language:"Portuguese",URL:"http://promo.impersinos.com.br/pr/impermeabilizacao-quadra?i=Impermeabilizar&c=%20&l=Playground","Customer ID":"407-211-0919","Appointment Date/Time":"23/11/2017 11:00",Status:"Consultation","Sub Status":"CC - Just an educational call","Follow-up Date":"2017-04-12T07:00:00.000Z",PSIbefore:47,PSIafter:47,WPTbefore:4553,WPTafter:4553,Team:"Small Business Sales","POD Name":"icanazza","Google Sales Rep":"Isabella Canazza","gCases ID":"3-1502000020065"},{"Case Number":510034,owner:"Aline Macellone",region:"Americas",Language:"Portuguese",URL:"www.softensistemas.com.br","Customer ID":"247-769-3672","Appointment Date/Time":"27/11/2017 10:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"Yes","Follow-up Date":"2017-04-12T07:00:00.000Z",PSIbefore:66,PSIafter:66,WPTbefore:7073,WPTafter:7073,Team:"MMS Two","POD Name":"SAO1","Google Sales Rep":"Guilherme Leonello Duarte","gCases ID":"7-8721000019924"},{"Case Number":507302,owner:"Felipe Guarnieri",region:"Americas",Language:"Spanish",URL:"http://www.cantodeaves.com/","Customer ID":"796-881-9575","Appointment Date/Time":"27/11/2017 15:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"No",PSIbefore:50,PSIafter:50,WPTbefore:28649,WPTafter:28649,Team:"Small Business Sales","POD Name":"SMB-Training-MX-monicajimenez","Google Sales Rep":"Mónica Jiménez","gCases ID":"8-7829000020198"},{"Case Number":500548,owner:"Aline Macellone",region:"Americas",Language:"Portuguese",URL:"www.lojaiplace.com.br","Customer ID":"161-334-4463","Appointment Date/Time":"28/11/2017 14:00","Rescheduled Appointment Date(Advertiser)":"2017-05-12T07:00:00.000Z",Status:"Consultation","Sub Status":"CC - Just an educational call","Confirmation Call":"Yes","Follow-up Date":"2018-12-01T08:00:00.000Z",PSIbefore:54,PSIafter:54,WPTbefore:19216,WPTafter:19216,Team:"Unassigned","POD Name":"cconsolmagno","Google Sales Rep":"Caio Consolmagno","gCases ID":"8-2941000019919","Additional Notes (if any)":"gForms"},{"Case Number":510102,owner:"Danilo Araujo Luiz",region:"Americas",Language:"Spanish",URL:"http://cotizador.peugeot.cl/cl/cotizador/VP/","Customer ID":"339-717-6478","Appointment Date/Time":"28/11/2017 14:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"No","Date of installation":"2017-04-12T07:00:00.000Z",PSIbefore:46,PSIafter:46,WPTbefore:9532,WPTafter:9532,Team:"Traditional Agency AS","POD Name":"SMB-Traditional Agency AS-CL-HC1a","Google Sales Rep":"Eliel Frydman","gCases ID":"3-5927000020081","Additional Notes (if any)":"Original URL: http://cotizador.peugeot.cl/cl/cotizador/VP/?utm_source=google-search&utm_medium=SEA_SCT&utm_campaign=2017_07_range-all_vn_cuotafamosa_promo_time-limited_ap_cl_local_sea_sct_tf&utm_content=search We don't really need the analytics parameters."},{"Case Number":511042,owner:"Aline Macellone",region:"Americas",Language:"Portuguese",URL:"https://www.bconsorcios.com.br/lp-servopa/","Customer ID":"540-024-9655","Appointment Date/Time":"29/11/2017 10:00","Rescheduled Appointment Date(Advertiser)":"15/12/2017",Status:"Consultation","Sub Status":"CC - Just an educational call","Confirmation Call":"Yes",PSIbefore:73,PSIafter:73,WPTbefore:11390,WPTafter:11390,Team:"Small Business Sales","POD Name":"smb-small business-br-bzocolaro","Google Sales Rep":"Bruna Zocolaro","gCases ID":"6-9858000020125"},{"Case Number":509568,owner:"Felipe Guarnieri",region:"Americas",Language:"Spanish",URL:"http://www.centrologisticopanama.com/dos-caminos/","Customer ID":"912-818-9604","Appointment Date/Time":"29/11/2017 13:00","Rescheduled Appointment Date(Advertiser)":"2017-04-12T07:00:00.000Z",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"No","Before/After Sent":"No",PSIbefore:57,PSIafter:57,WPTbefore:4825,WPTafter:4825,Team:"GEM","POD Name":"SMB-GEM-CR-MX1","Google Sales Rep":"Juancho Ciszek Flores","gCases ID":"4-2992000020205"},{"Case Number":511227,owner:"Felipe Guarnieri",region:"EMEA",Language:"Spanish",URL:"www.animalcity.es","Customer ID":"857-645-4702","Appointment Date/Time":"29/11/2017 13:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"No",PSIbefore:41,PSIafter:41,WPTbefore:12326,WPTafter:12326,Team:"Small Business Sales","POD Name":"SMB-Small Business-ES-aesteve","Google Sales Rep":"Angela Esteve","gCases ID":"1-4597000019841"},{"Case Number":507225,owner:"Felipe Guarnieri",region:"Americas",Language:"Portuguese",URL:"https://dialogo.com.br/","Customer ID":"507-795-6806","Appointment Date/Time":"29/11/2017 15:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"No",PSIbefore:56,PSIafter:56,WPTbefore:13549,WPTafter:13549,Team:"MMS One","POD Name":"SMB-MMS One-BR-SAO1","Google Sales Rep":"Marcela Goya","gCases ID":"6-8853000020125"},{"Case Number":510905,owner:"Felipe Guarnieri",region:"Americas",Language:"Portuguese",URL:"www.profissionalbeleza.com.br","Customer ID":"349-528-1532","Appointment Date/Time":"30/11/2017 08:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"No",PSIbefore:64,PSIafter:64,WPTbefore:7860,WPTafter:7860,Team:"Unassigned","POD Name":"cconsolmagno","Google Sales Rep":"Caio Consolmagno","gCases ID":"3-0691000020161","Additional Notes (if any)":"BTC"},{"Case Number":512597,owner:"Daniel Moura",region:"Americas",Language:"Portuguese",URL:"https://comtele.com.br/","Customer ID":"774-237-0782","Appointment Date/Time":"2017-01-12T19:00:00.000Z",Status:"Consultation","Sub Status":"CC - Advertiser implemented changes in pre-production phase","Follow-up Date":"2017-04-12T07:00:00.000Z",PSIbefore:51,PSIafter:51,WPTbefore:16228,WPTafter:16228,Team:"Small Business Sales","POD Name":"smb-small business-br-bzocolaro","Google Sales Rep":"Bruna Zocolaro","gCases ID":"3-0229000020217"},{"Case Number":518887,owner:"Daniel Moura",region:"Americas",Language:"Portuguese",URL:"www.carinhodebicho.com.br","Customer ID":"922-702-2873","Appointment Date/Time":"2017-12-12T18:00:00.000Z",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"Yes","Follow-up Date":"19/12/2017",PSIbefore:32,PSIafter:32,WPTbefore:40076,WPTafter:40076,Team:"Unassigned","POD Name":"cconsolmagno","Google Sales Rep":"Caio Consolmagno","gCases ID":"1-9692000020272","Additional Notes (if any)":"BTC"},{"Case Number":518927,owner:"Danilo Araujo Luiz",region:"Americas",Language:"Portuguese",URL:"https://internet-satelite-rural.com.br/","Customer ID":"878-510-0590","Appointment Date/Time":"2017-12-12T22:00:00.000Z",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"Yes","Date of installation":"2017-12-12T08:00:00.000Z",PSIbefore:96,PSIafter:96,WPTbefore:6922,WPTafter:6922,Team:"Small Business Sales","POD Name":"rcernesto","Google Sales Rep":"Rodrigo Ernesto","gCases ID":"3-6145000020392","Additional Notes (if any)":"13h BR"},{"Case Number":518725,owner:"Danilo Araujo Luiz",region:"Americas",Language:"Portuguese",URL:"www.caramelloidiomas.com.br","Customer ID":"570-408-3267","Appointment Date/Time":"13/12/2017 10:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"Yes","Date of installation":"13/12/2017",PSIbefore:58,PSIafter:58,WPTbefore:4879,WPTafter:4879,Team:"Unassigned","POD Name":"cconsolmagno","Google Sales Rep":"Caio Consolmagno","gCases ID":"0-3837000020036","Additional Notes (if any)":"BTC"},{"Case Number":518731,owner:"Danilo Araujo Luiz",region:"Americas",Language:"Portuguese",URL:"https://www.operand.com.br","Customer ID":"511-875-6382","Appointment Date/Time":"14/12/2017 09:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"Yes","Date of installation":"14/12/2017",PSIbefore:56,PSIafter:56,WPTbefore:5808,WPTafter:5808,Team:"Unassigned","POD Name":"cconsolmagno","Google Sales Rep":"Caio Consolmagno","gCases ID":"5-7186000020217","Additional Notes (if any)":["BTC Very good call. It was a consultation call only","however it's very likely the client is going to implement the changes very soon."]},{"Case Number":520627,owner:"Felipe Guarnieri",region:"EMEA",Language:"Spanish",URL:"www.mundodelmovil.com","Customer ID":"520-882-5610","Appointment Date/Time":"14/12/2017 09:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"No",PSIbefore:57,PSIafter:57,WPTbefore:11314,WPTafter:11314,Team:"Small Business Sales","POD Name":"SMB-Small Business-ES-aesteve","Google Sales Rep":"Angela Esteve","gCases ID":"3-9267000020330"},{"Case Number":519535,owner:"Danilo Araujo Luiz",region:"Americas",Language:"Portuguese",URL:"https://www.webcontinental.com.br","Customer ID":"939-303-2286","Appointment Date/Time":"14/12/2017 11:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"No","Date of installation":"14/12/2017",PSIbefore:33,PSIafter:33,WPTbefore:14818,WPTafter:14818,Team:"Unassigned","POD Name":"cconsolmagno","Google Sales Rep":"Caio Consolmagno","gCases ID":"8-3027000020304","Additional Notes (if any)":"gForms Originally this case was not mine (Danilo) and the call was made via Hangouts."},{"Case Number":520079,owner:"Daniel Moura",region:"EMEA",Language:"Portuguese",URL:"http://proalliance.pt","Customer ID":"735-153-3043","Appointment Date/Time":"14/12/2017 13:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"Yes","Follow-up Date":"15/01/2018",PSIbefore:32,PSIafter:32,WPTbefore:8946,WPTafter:8946,Team:"Small Business Sales","POD Name":"SMB-SBS Scaled-PT-ascardoso","Google Sales Rep":"Sofia Cardoso","gCases ID":"5-5786000020260","Additional Notes (if any)":"Conf. Call - no answer. Customer will redesign the website."},{"Case Number":518214,owner:"André Victorino",region:"EMEA",Language:"Portuguese",URL:"sothebysrealty.com","Customer ID":"381-945-4195","Appointment Date/Time":"14/12/2017 14:00",Status:"Consultation","Sub Status":"CC - Consultation Completed",PSIbefore:49,PSIafter:49,WPTbefore:20144,WPTafter:20144,Team:"Managed Agency Two AS","POD Name":"SMB-Managed Agency Two AS-PT-DUB1b","Google Sales Rep":"Marina Faria","gCases ID":"7-0405000020331"},{"Case Number":520421,owner:"Daniel Moura",region:"Americas",Language:"Portuguese",URL:"www.querobolsa.com.br","Customer ID":"361-708-1161","Appointment Date/Time":"15/12/2017 14:00",Status:"Consultation","Sub Status":"CC - Consultation Completed","Confirmation Call":"Yes","Follow-up Date":"2018-05-01T07:00:00.000Z",PSIbefore:45,PSIafter:45,WPTbefore:8841,WPTafter:8841,Team:"MMS One","POD Name":"SMB-MMS One-BR-SAO1","Google Sales Rep":"Marcela Goya","gCases ID":"8-2146000020228","Additional Notes (if any)":"Conf. call: no answer."},{"Case Number":521631,owner:"Aline Macellone",region:"Americas",Language:"Portuguese",URL:"www.zetaflex.com.br","Customer ID":"733-918-1785","Appointment Date/Time":"18/12/2017 10:00",Status:"Consultation","Sub Status":"CC - Advertiser implemented changes in pre-production phase","Confirmation Call":"Yes","Follow-up Date":"22/12/2017",PSIbefore:36,PSIafter:36,WPTbefore:11750,WPTafter:11750,Team:"Small Business Sales","POD Name":"robsonrs","Google Sales Rep":"Robson Silva","gCases ID":"4-3948000020463"}]},e.prototype.ngAfterViewInit=function(){},e.prototype.openDetails=function(e){console.log(e),this.websiteDetails=e},e.prototype.checkOverwrite=function(){console.log(this.websiteDetails.overwrite.enabled),this.websiteDetails.overwrite.enabled?this.hideOverwrite=!0:this.hideOverwrite=!1},e.prototype.save=function(e,t,a){var s=this;this.showLoading=!0,console.log(this.websiteDetails);var i=new n.c;i.append("Content-Type","application/json"),this.http.post(this.apiUrl+"dashboard/addwebsite",JSON.stringify(this.websiteDetails),{headers:i}).subscribe(function(e){JSON.parse(e.text());$.notify({icon:"add_alert",message:"Website added!"},{type:"success",timer:4e3,placement:{from:"top",align:"center"}}),s.showLoading=!1,s.router.navigate(["/my-websites/list"])},function(e){var t=JSON.parse(e._body);s.showLoading=!1;for(var a=0,n=t;a<n.length;a++){var i=n[a];$.notify({icon:"add_alert",message:i.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}})},e.prototype.insertByJSON=function(e,t){var a=this;this.index_json=t,console.log(e),this.websiteDetails.url=e.URL,this.websiteDetails.title=e.URL,"Americas"==e.region?this.websiteDetails.market={rowKey:"fb3d0280-b28a-11e7-a260-17b45e8856ab",description:"LATAM"}:this.websiteDetails.market={rowKey:"092027b0-b28b-11e7-a260-17b45e8856ab",description:"EMEA"},"Portuguese"==e.Language?this.websiteDetails.language={rowKey:"0a580c40-b4cc-11e7-896a-b58caeafad9f",description:"Portuguese"}:this.websiteDetails.language={rowKey:"0df99d00-b4cc-11e7-896a-b58caeafad9f",description:"Spanish"},""==e.PSIbefore&&""==e.PSIafter&&""==e.WPTbefore&&""==e.WPTafter||(this.websiteDetails.overwrite.enabled=!0),""!=e.PSIbefore&&(this.websiteDetails.overwrite.psiBefore=e.PSIbefore),""!=e.PSIafter&&(this.websiteDetails.overwrite.psiAfter=e.PSIafter),""!=e.WPTbefore&&(this.websiteDetails.overwrite.wptBefore=e.WPTbefore),""!=e.WPTafter&&(this.websiteDetails.overwrite.wptAfter=e.WPTafter),this.websiteDetails.salesEmail="coelhog@google.com",this.websiteDetails.salesName="Gustavo","Felipe Guarnieri"==e.owner&&(this.websiteDetails.agentEmail="fguarnieri@google.com",this.websiteDetails.agentName="Felipe Guarnieri"),"Aline Macellone"==e.owner&&(this.websiteDetails.agentEmail="amacellone@google.com",this.websiteDetails.agentName="Aline Macellone"),"Daniel Moura"==e.owner&&(this.websiteDetails.agentEmail="danielmoura@google.com",this.websiteDetails.agentName="Daniel Moura"),"André Victorino"==e.owner&&(this.websiteDetails.agentEmail="avictorino@google.com",this.websiteDetails.agentName="André Victorino"),"Danilo Araujo Luiz"==e.owner&&(this.websiteDetails.agentEmail="daniloaraujo@google.com",this.websiteDetails.agentName="Danilo Araujo Luiz"),"Valmir da Silva"==e.owner&&(this.websiteDetails.agentEmail="valmirs@google.com",this.websiteDetails.agentName="Valmir da Silva"),"Portuguese"==e.Language&&"Americas"==e.region&&(this.websiteDetails.location="SaoPaulo_BR"),"Spanish"==e.Language&&"EMEA"==e.region&&(this.websiteDetails.location="Paris"),"Spanish"==e.Language&&"Americas"==e.region&&(this.websiteDetails.location="Texas2"),"Portuguese"==e.Language&&"EMEA"==e.region&&(this.websiteDetails.location="Paris");var s=new n.c;s.append("Content-Type","application/json"),this.http.post(this.apiUrl+"dashboard/addwebsite",JSON.stringify(this.websiteDetails),{headers:s}).subscribe(function(t){JSON.parse(t.text());console.log(a.list_json.length),console.log(a.index_json+1),a.list_json.length>=a.index_json+1&&a.insertByJSON(a.list_json[a.index_json+1],a.index_json+1),$.notify({icon:"add_alert",message:e.URL+" added!"},{type:"success",timer:4e3,placement:{from:"top",align:"center"}})},function(e){var t=JSON.parse(e._body);a.showLoading=!1;for(var s=0,n=t;s<n.length;s++){var i=n[s];$.notify({icon:"add_alert",message:i.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}})},e=d([a.i(s.Component)({selector:"add-website-cmp",template:a("YgEC")}),c("design:paramtypes",["function"==typeof(t=void 0!==n.d&&n.d)&&t||Object,"function"==typeof(i=void 0!==l.LocalStorageService&&l.LocalStorageService)&&i||Object,"function"==typeof(p=void 0!==o.b&&o.b)&&p||Object])],e);var t,i,p}()},"NJ/R":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Rw+2"),n=a("zKH5"),i=a("oUgg"),o=a("36+m"),l=a("JBcJ"),r=a("oJP+"),d=a("KVZL"),c=a("vjjC");a.d(t,"GreaterThanPipe",function(){return g}),a.d(t,"LessThanPipe",function(){return m}),a.d(t,"MyWebsitesModule",function(){return b});var p=this&&this.__decorate||function(e,t,a,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(i<3?n(o):i>3?n(t,a,o):n(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(){}return e.prototype.transform=function(e,t,a){return e?e.filter(function(e){return e[t]>=a}):[]},e=p([a.i(s.Pipe)({name:"greaterthan"}),a.i(s.Injectable)(),u("design:paramtypes",[])],e)}(),m=function(){function e(){}return e.prototype.transform=function(e,t,a){return e?e.filter(function(e){return e[t]<=a}):[]},e=p([a.i(s.Pipe)({name:"lessthan"}),a.i(s.Injectable)(),u("design:paramtypes",[])],e)}(),b=function(){function e(){}return e=p([a.i(s.NgModule)({imports:[i.a,n.a.forChild(c.a),o.a,l.a],declarations:[r.a,d.a,g,m]}),u("design:paramtypes",[])],e)}()},YgEC:function(e,t){e.exports='<div class="main-content">\n    <div class="container-fluid">\n        <div class="row">\n            <div class="col-md-12">\n                <div class="card">\n                    <div class="card-header card-header-icon" data-background-color="rose">\n                        <i class="material-icons">desktop_mac</i>\n                    </div>\n                    <div class="card-content">\n                        <h4 class="card-title">Basic Details</h4>\n                        <form #f="ngForm" method="#" action="#" (ngSubmit)="save(f.value, f.valid, f)" [hidden]="showLoading">\n                            <div class="row">\n                                <div class="col-md-3">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">Website URL</label>\n                                        <input type="text" class="form-control" required pattern="https?://.+" [(ngModel)]="websiteDetails.url" name="url" #url="ngModel" id="url" required>\n                                        <small [hidden]="url.valid || (url.pristine)" class="text-danger">\n                                            Must be a valid URL!\n                                          </small>\n                                    </div>\n                                </div>\n                                <div class="col-md-3">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">Website Name</label>\n                                        <input type="text" class="form-control" name="title" [(ngModel)]="websiteDetails.title" #title="ngModel" required >\n                                    </div>\n                                </div>\n                                <div class="col-md-3">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">Market</label>\n                                        <select class="selectpicker" data-style="btn btn-info btn-round" title="Choose Market" data-size="7" name="selValue" [(ngModel)]="websiteDetails.market" #market="ngModel" required>\n                                                <option disabled selected>Choose Market</option>\n                                                <option *ngFor=\'let market of listMarkets\' [ngValue]=\'market\'>{{market.description}}</option>\n                                            </select>\n                                    </div>\n                                </div>\n                                <div class="col-md-3">\n                                        <div class="form-group label-floating">\n                                            <label class="control-label">Language</label>\n                                            <select class="selectpicker" data-style="btn btn-info btn-round" title="Choose Language" data-size="7" name="selValue3" [(ngModel)]="websiteDetails.language" #market="ngModel" required>\n                                                    <option disabled selected>Choose Language</option>\n                                                    <option *ngFor=\'let language of listLanguages\' [ngValue]=\'language\'>{{language.description}}</option>\n                                                </select>\n                                        </div>\n                                    </div>\n                                <div class="clearfix"></div>\n                                <div class="col-md-4">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">Account Manager Name</label>\n                                        <input type="text" class="form-control" name="salesName" [(ngModel)]="websiteDetails.salesName" #salesName="ngModel" >\n                                    </div>\n                                </div>\n                                <div class="col-md-4">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">Account Manager E-mail</label>\n                                        <input type="email" class="form-control" name="salesEmail" [(ngModel)]="websiteDetails.salesEmail" #salesEmail="ngModel"  pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$">\n                                        <small [hidden]="salesEmail.valid || (salesEmail.pristine)" id="email" class="text-danger">\n                                            Email is required and format should be <i>john@doe.com</i>.\n                                          </small>\n                                    </div>\n                                </div>\n                                <div class="col-md-4">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">Test Location</label>\n                                        <select class="selectpicker" data-style="btn btn-primary btn-round" title="Choose Test Location" data-size="7" name="selValue2" [(ngModel)]="websiteDetails.location" #location="ngModel" required>\n                                                <option disabled selected>Choose Test Location</option>\n                                                <option *ngFor=\'let location of listTestLocation\' [ngValue]=\'location.id\'>{{location.labelShort}} | {{location.Label}} ({{location.PendingTests.Total}} pendings tests)</option>\n                                            </select>\n                                    </div>\n                                </div>\n\n\n                            </div>\n                            <div class="checkbox" >\n                                <label >\n                                    <input type="checkbox" name="optionsCheckboxes" [(ngModel)]="websiteDetails.overwrite.enabled" #overwrite="ngModel" (click)="checkOverwrite()" > Add score information for Page Speed Insights and Web Page Test.\n                                    </label>\n                            </div>\n                            <div class="row" [hidden]="hideOverwrite">\n                                <div class="col-md-3">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">PSI Before</label>\n                                        <input type="number" class="form-control" name="psiBefore" [(ngModel)]="websiteDetails.overwrite.psiBefore" #psiBefore="ngModel" >\n                                    </div>\n                                </div>\n                                <div class="col-md-3">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">PSI After</label>\n                                        <input type="number" class="form-control" name="psiAfter" [(ngModel)]="websiteDetails.overwrite.psiAfter" #psiAfter="ngModel" >\n                                    </div>\n                                </div>\n                                <div class="col-md-3">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">WPT Before</label>\n                                        <input type="number" class="form-control" name="wptBefore" [(ngModel)]="websiteDetails.overwrite.wptBefore" #wptBefore="ngModel" >\n                                    </div>\n                                </div>\n                                <div class="col-md-3">\n                                    <div class="form-group label-floating">\n                                        <label class="control-label">WPT After</label>\n                                        <input type="number" class="form-control" name="wptAfter" [(ngModel)]="websiteDetails.overwrite.wptAfter" #wptAfter="ngModel" >\n                                    </div>\n                                </div>\n                            </div>\n                            <button type="submit" class="btn btn-fill btn-rose" [disabled]="!f.valid">Save</button>\n                        </form>\n                        <div class="loader" *ngIf="showLoading">\n                                <svg class="circular" viewBox="25 25 50 50">\n                                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>\n                                </svg>\n                            </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},"oJP+":function(e,t,a){"use strict";var s=a("Rw+2"),n=a("24R9"),i=a("+pb+"),o=(a.n(i),a("Ths4")),l=(a.n(o),a("kZql"));a.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,a,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(i<3?n(o):i>3?n(t,a,o):n(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.localStorageService=t,this.apiUrl=l.a.apiUrl,this.http=e}return e.prototype.ngOnInit=function(){var e=this;this.tableData1={headerRow:["#","Website","Market","Language","PSI","WPT","Status","Actions"],dataRows:[]},this.versionHistory=[];var t={};this.websiteDetails={},this.statusWPT={},this.statusPSI={},t=this.localStorageService.get("user"),this.showLoading=!0,this.showLoadingPSI=!1,this.showLoadingWPT=!1,this.showLoadingDelete=!1,this.headers=new n.c,this.headers.append("Content-Type","application/json"),this.headers.append("Authorization","Bearer "+t.token),this.http.get(this.apiUrl+"websites/list",{headers:this.headers}).subscribe(function(t){var a=JSON.parse(t.text());console.log(a);for(var s=0,n=0,i=a;n<i.length;n++){var o=i[n];s+=1;var l="";l=null==o.retest.psiBefore?"?":o.retest.psiBefore;var r="?";r=null==o.retest.psiAfter?o.retest.psiBefore:o.retest.psiAfter;var d="";d=null==o.retest.wptBefore?"?":o.retest.wptBefore;var c="?";c=null==o.retest.wptAfter?o.retest.wptBefore:o.retest.wptAfter;var p=!1;null!=o.retest.wptBefore&&null!=o.retest.wptAfter&&(o.retest.wptBefore>=15e3&&o.retest.wptAfter<=9999?p=!0:o.retest.wptBefore>=5e3&&o.retest.wptAfter<=4999?p=!0:o.retest.wptAfter<=o.retest.wptBefore-3e3&&(p=!0)),o.pageSpeedArray=[],o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.AvoidLandingPageRedirects),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.EnableGzipCompression),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.LeverageBrowserCaching),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.MainResourceServerResponseTime),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.MinifyCss),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.MinifyHTML),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.MinifyJavaScript),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.MinimizeRenderBlockingResources),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.OptimizeImages),o.pageSpeedArray.push(o.pageSpeed.formattedResults.ruleResults.PrioritizeVisibleContent),e.tableData1.dataRows.push([s.toLocaleString(),o.url,o.market.description,o.language.description,l+"/"+r,d+"/"+c,o.status,"",p,o])}$('[rel="tooltip"]').tooltip(),e.showLoading=!1},function(e){console.log(e.text());for(var t=e,a=0,s=t;a<s.length;a++){var n=s[a];$.notify({icon:"add_alert",message:n.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}})},e.prototype.ngAfterViewInit=function(){},e.prototype.openDetails=function(e){console.log(e),this.websiteDetails=e,this.statusPSI.statusText="",this.statusWPT.statusText=""},e.prototype.delete=function(e,t){this.websiteDetails=e,this.websiteDetails.index=t},e.prototype.runNewWPT=function(e,t){var a=this;this.showLoadingWPT=!0,void 0==t&&(t=this.websiteDetails.retest.testId),console.log(e),console.log(t),this.http.post(this.apiUrl+"wpt/new",{testId:t,rowKey:e,runNewAfterTest:!1},{headers:this.headers}).subscribe(function(e){var t=JSON.parse(e.text());console.log(t),a.showLoadingWPT=!1,101==t.statusCode&&(a.websiteDetails.retest.wptAfterUrl="http://www.webpagetest.org/results.php?test="+t.data.testId,a.websiteDetails.retest.wptAfterTestId=t.data.testId),200==t.statusCode?(a.websiteDetails.retest.wptAfterUrl=t.data.summary,a.websiteDetails.retest.wptAfterTestId=t.data.id,t.data.median.firstView.SpeedIndex<a.websiteDetails.retest.wptAfter&&t.data.median.firstView.SpeedIndex<a.websiteDetails.retest.wptBefore?(a.websiteDetails.retest.wptAfter=t.data.median.firstView.SpeedIndex,a.statusWPT.statusText="Great! Speed Index is lower than before: "+a.websiteDetails.retest.wptAfter):a.statusWPT.statusText="Speed Index still greater than before and after: "+t.data.median.firstView.SpeedIndex,$.notify({icon:"add_alert",message:a.statusWPT.statusText},{type:"info",timer:4e3,placement:{from:"top",align:"center"}})):(a.statusWPT.statusText="Speed Index not increase. Waiting for a new test. "+t.statusText,$.notify({icon:"add_alert",message:a.statusWPT.statusText},{type:"info",timer:4e3,placement:{from:"top",align:"center"}})),console.log(a.websiteDetails.retest)},function(e){var t=JSON.parse(e.text());console.log(t),a.showLoadingWPT=!1,$.notify({icon:"add_alert",message:t.statusText},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})})},e.prototype.runNewPSI=function(e,t){var a=this;console.log(e),console.log(t),this.showLoadingPSI=!0,this.http.post(this.apiUrl+"psi/new",{url:t,rowKey:e},{headers:this.headers}).subscribe(function(e){var t=JSON.parse(e.text());console.log(t),a.showLoadingPSI=!1,t?(t.ruleGroups.SPEED.score>a.websiteDetails.retest.psiAfter?(a.websiteDetails.retest.psiAfter=t.ruleGroups.SPEED.score,a.statusPSI.statusText="Great! Score is greater than before: "+a.websiteDetails.retest.psiAfter):a.statusPSI.statusText="Score still lower or the same than before: "+t.ruleGroups.SPEED.score,$.notify({icon:"add_alert",message:a.statusPSI.statusText},{type:"info",timer:4e3,placement:{from:"top",align:"center"}})):(a.statusPSI=t,$.notify({icon:"add_alert",message:a.statusPSI.statusText},{type:"info",timer:4e3,placement:{from:"top",align:"center"}}))},function(e){var t=JSON.parse(e.text());console.log(t),a.showLoadingPSI=!1,$.notify({icon:"add_alert",message:t.statusText},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})})},e.prototype.confirmDelete=function(e,t,a){var s=this;this.showLoadingDelete=!0,this.http.post(this.apiUrl+"websites/delete",{url:t,rowKey:e},{headers:this.headers}).subscribe(function(e){var t=JSON.parse(e.text());console.log(t),s.showLoadingDelete=!1,$("#delete").modal("hide"),s.tableData1.dataRows.splice(a,1),$.notify({icon:"add_alert",message:"Website deleted!"},{type:"info",timer:4e3,placement:{from:"top",align:"center"}})},function(e){s.showLoadingDelete=!1,console.log(e.text());for(var t=e,a=0,n=t;a<n.length;a++){var i=n[a];$.notify({icon:"add_alert",message:i.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}})},e.prototype.tableToExcel=function(e){var t=function(e){return window.btoa(decodeURIComponent(encodeURIComponent(e)))},a=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},s=document.getElementById("mywebsites"),n={worksheet:e||"Worksheet",table:s.innerHTML},i=new Date,o=i.getFullYear(),l=i.getMonth()+1,r=i.getDate(),d=i.getHours(),c=i.getMinutes(),p=i.getSeconds(),u=document.createElement("a");u.download="msite-my-websites-"+l+"."+r+"."+o+"-"+d+"-"+c+"-"+p+".xls",u.href="data:application/vnd.ms-excel;base64,"+t(a('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<meta http-equiv="content-type" content="text/plain; charset=UTF-8"/></head><body><table>{table}</table></body></html>',n)),u.click()},e.prototype.getVersionHistory=function(e){var t=this;this.showLoadingHistory=!0,this.versionHistory=[],this.http.post(this.apiUrl+"websites/history",{websiteKey:e},{headers:this.headers}).subscribe(function(e){var a=JSON.parse(e.text());console.log(a),t.showLoadingHistory=!1,t.versionHistory=a;for(var s=0,n=t.versionHistory;s<n.length;s++){var i=n[s];"PSI"==i.category&&(i.pageSpeedArray=[],i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.AvoidLandingPageRedirects),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.EnableGzipCompression),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.LeverageBrowserCaching),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.MainResourceServerResponseTime),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.MinifyCss),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.MinifyHTML),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.MinifyJavaScript),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.MinimizeRenderBlockingResources),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.OptimizeImages),i.pageSpeedArray.push(i.pageSpeed.formattedResults.ruleResults.PrioritizeVisibleContent))}},function(e){t.showLoadingHistory=!1,console.log(e.text());for(var a=e,s=0,n=a;s<n.length;s++){var i=n[s];$.notify({icon:"add_alert",message:i.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}})},e=r([a.i(s.Component)({selector:"my-websites-cmp",template:a("KM/8")}),d("design:paramtypes",["function"==typeof(t=void 0!==n.d&&n.d)&&t||Object,"function"==typeof(i=void 0!==o.LocalStorageService&&o.LocalStorageService)&&i||Object])],e);var t,i}()},vjjC:function(e,t,a){"use strict";var s=a("oJP+"),n=a("KVZL");a.d(t,"a",function(){return i});var i=[{path:"",children:[{path:"list",component:s.a},{path:"",children:[{path:"add",component:n.a}]}]}]}});