webpackJsonp([11,17],{Rpt0:function(t,e){t.exports='<div class="main-content">\n    <div class="container-fluid">\n        <div class="row">\n            <div class="loader" style="position:relative" *ngIf="showLoadingDashboard ">\n                <svg class="circular" viewBox="25 25 50 50" style="top:45px">\n                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                </svg>\n            </div>\n            <div class="col-md-12 col-lg-12" *ngIf="(userModel.team.project == \'msite\' || userModel.team.project == \'lcs\' || userModel.team.project == \'overhead\') && !showLoadingDashboard">\n                <div [ngClass]="userModel.team.project == \'lcs\'  || userModel.team.project == \'msite\' || userModel.team.project == \'overhead\'  ?  \'col-lg-6\' : \'col-lg-3\'">\n                    <div class="card card-pricing" [ngClass]="logStart ?  \'card-raised\' : \'card-plain\'">\n                        <div class="content">\n                            <h6 class="category">Start your Day</h6>\n                            <div class="icon" [ngClass]="logStart ?  \'icon-rose\' : \'icon\'">\n                                <i class="material-icons">timer</i>\n                            </div>\n                            <h3 id="showDate" class="card-title" *ngIf="logStart">{{date}}</h3>\n                            <h3 class="card-title" *ngIf="!logStart">{{startLogged}}</h3>\n                            <p class="card-description">\n                                Register the beginning of your day\n                            </p>\n                            <div class="loader" style="position:relative" *ngIf="showLoadingStart ">\n                                <svg class="circular" viewBox="25 25 50 50" style="top:45px">\n                                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                                </svg>\n                            </div>\n                            \x3c!-- <button type="button" class="btn btn-round" (click)="LogUpdate(date, 0)" [disabled]="!logStart" [ngClass]="logStart ?  \'btn-rose\' : \'btn-white\'"\n                                *ngIf="(logStart && !showLoadingStart) && userModel.team.project == \'msite\' ">Log In Now</button> --\x3e\n                            <button type="button" class="btn btn-round" (click)="LogUpdate(date, 4)" [disabled]="!logStart" [ngClass]="logStart ?  \'btn-rose\' : \'btn-white\'"\n                                *ngIf="(logStart && !showLoadingStart)" id="logInNow">Log In Now</button>\n                            <button type="button" class="btn btn-round btn-white" disabled *ngIf="!logStart"  id="thankYou">Thank you!</button>\n                        </div>\n                    </div>\n                </div>\n                <div [ngClass]="userModel.team.project == \'lcs\' || userModel.team.project == \'msite\'  || userModel.team.project == \'overhead\' ?  \'col-lg-6 hidden\' : \'col-lg-3\'">\n                    <div class="card card-pricing" [ngClass]="logBreakStart ?  \'card-raised\' : \'card-plain\'">\n                        <div class="content">\n                            <h6 class="category">Break Start</h6>\n                            <div class="icon" [ngClass]="logBreakStart ?  \'icon-rose\' : \'icon\'">\n                                <i class="material-icons">restaurant</i>\n                            </div>\n                            <h3 id="showDate" class="card-title" *ngIf="logBreakStart">{{date}}</h3>\n                            <h3 class="card-title" *ngIf="!logBreakStart">{{breakStartLogged}}</h3>\n                            <p class="card-description">\n                                Register the beginning of your break\n                            </p>\n                            <div class="loader" style="position:relative" *ngIf="showLoadingBreakStart ">\n                                <svg class="circular" viewBox="25 25 50 50" style="top:45px">\n                                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                                </svg>\n                            </div>\n                            <button type="button" class="btn btn-round" (click)="LogUpdate(date, 1)" [disabled]="!logBreakStart" [ngClass]="logBreakStart ?  \'btn-rose\' : \'btn-white\'"\n                                *ngIf="(logBreakStart && !showLoadingBreakStart) || !logBreakStart && logStart ">Go to your Break Now</button>\n                            <button type="button" class="btn btn-round btn-white" disabled *ngIf="!logBreakStart && !logStart">Thank you!</button>\n                        </div>\n                    </div>\n                </div>\n                <div [ngClass]="userModel.team.project == \'lcs\'  || userModel.team.project == \'msite\'  || userModel.team.project == \'overhead\' ?  \'col-lg-6 hidden\' : \'col-lg-3\'">\n                    <div class="card card-pricing" [ngClass]="logBreakEnd ?  \'card-raised\' : \'card-plain\'">\n                        <div class="content">\n                            <h6 class="category">Break End</h6>\n                            <div class="icon" [ngClass]="logBreakEnd ?  \'icon-rose\' : \'icon\'">\n                                <i class="material-icons">restaurant</i>\n                            </div>\n                            <h3 id="showDate" class="card-title" *ngIf="logBreakEnd">{{date}}</h3>\n                            <h3 class="card-title" *ngIf="!logBreakEnd">{{breakEndLogged}}</h3>\n                            <p class="card-description">\n                                Register the end of your break\n                            </p>\n                            <div class="loader" style="position:relative" *ngIf="showLoadingBreakEnd ">\n                                <svg class="circular" viewBox="25 25 50 50" style="top:45px">\n                                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                                </svg>\n                            </div>\n                            <button type="button" class="btn btn-round" (click)="LogUpdate(date, 2)" [disabled]="!logBreakEnd" [ngClass]="logBreakEnd ?  \'btn-rose\' : \'btn-white\'"\n                                *ngIf="(logBreakEnd && !showLoadingBreakEnd) || (!logBreakEnd && logBreakStart && !logStart) || (!logBreakEnd && !logBreakStart && logStart) ">End your Break Now</button>\n                            <button type="button" class="btn btn-round btn-white" disabled *ngIf="!logBreakEnd && !logStart && !logBreakStart">Thank you!</button>\n                        </div>\n                    </div>\n                </div>\n                <div [ngClass]="userModel.team.project == \'lcs\'  || userModel.team.project == \'msite\' || userModel.team.project == \'overhead\'  ?  \'col-lg-6\' : \'col-lg-3\'">\n                    <div class="card card-pricing" [ngClass]="logEnd ?  \'card-raised\' : \'card-plain\'">\n                        <div class="content">\n                            <h6 class="category">Log Out</h6>\n                            <div class="icon" [ngClass]="logEnd ?  \'icon-rose\' : \'icon\'">\n                                <i class="material-icons">timer_off</i>\n                            </div>\n                            <h3 class="card-title" *ngIf="logEnd">{{date}}</h3>\n                            <h3 class="card-title" *ngIf="!logEnd">{{endLogged}}</h3>\n                            <p class="card-description">\n                                End your day\n                            </p>\n                            <div class="loader" style="position:relative" *ngIf="showLoadingEnd ">\n                                <svg class="circular" viewBox="25 25 50 50" style="top:45px">\n                                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />\n                                </svg>\n                            </div>\n                            <button type="button" class="btn  btn-round" (click)="LogUpdate(date, 3)" [disabled]="!logEnd" [ngClass]="logEnd ?  \'btn-rose\' : \'btn-white\'"\n                                *ngIf="(logEnd && !showLoadingEnd) || (!logBreakEnd && !logBreakStart && logStart && !logEnd) || (!logBreakEnd && logBreakStart && !logStart && !logEnd) || (logBreakEnd && !logBreakStart && !logStart && !logEnd)  ">Log Out Now</button>\n                            <button type="button" class="btn btn-round" disabled [ngClass]="!logEnd ?  \'btn-rose\' : \'btn-white\'" *ngIf="!logEnd && !logStart && !logBreakStart && !logBreakEnd">You can go home now!</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>'},Rvy0:function(t,e,a){"use strict";var n=a("Rw+2"),o=a("24R9"),r=a("+pb+"),s=(a.n(r),a("zKH5")),i=a("Ths4"),l=(a.n(i),a("kZql"));a.d(e,"a",function(){return g});var d=this&&this.__decorate||function(t,e,a,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,a,n);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(s=(r<3?o(s):r>3?o(e,a,s):o(e,a))||s);return r>3&&s&&Object.defineProperty(e,a,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,a,n){this.localStorageService=a,this.router=n,this.apiUrl=l.a.apiUrl,this.showLoadingDashboard=!0,this.http=t,this.jsonp=e}return t.prototype.ngOnInit=function(){var t=this;this.userModel={},this.userModel=this.localStorageService.get("user"),this.showLoadingEnd=!1,this.showLoadingStart=!1,this.endLogged="--:--",this.breakEndLogged="--:--",this.breakStartLogged="--:--",this.headers=new o.c,this.headers.append("Content-Type","application/json"),this.headers.append("Authorization","Bearer "+this.userModel.token),this.counter=0,this.formatDate=function(t){var e=new Date(t),a=""+(e.getMonth()+1),n=""+e.getDate(),o=e.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[o,a,n].join("-")},this.displayTime=function(t){var e=new Date(t);e.setSeconds(e.getSeconds()+1),this.startDate=e,this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds();0===this.hours&&(this.hours=12),this.hours<10&&(this.hours="0"+this.hours),this.minutes<10&&(this.minutes="0"+this.minutes),this.seconds<10&&(this.seconds="0"+this.seconds),this.date=this.hours+":"+this.minutes},this.randomString=function(t,e){for(var a="",n=t;n>0;--n)a+=e[Math.floor(Math.random()*e.length)];return a},this.http.get("/servertime.php?v="+this.randomString(64,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")).subscribe(function(e){t.startDate=new Date(e.headers.get("Date")),t.displayTime(t.startDate)}),setInterval(function(){t.http.get("/servertime.php?v="+t.randomString(64,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")).subscribe(function(e){t.startDate=new Date(e.headers.get("Date")),t.displayTime(t.startDate)})},2e3);var e=new Date,a=new Date;e.setHours(0,0,0,0),a.setHours(23,59,0,0),this.workingHours={rowKey:this.userModel.rowKey,start:e.toISOString(),end:a.toISOString()},this.logStart=!0,this.http.post(this.apiUrl+"workinghours",JSON.stringify(this.workingHours),{headers:this.headers}).subscribe(function(e){var a=JSON.parse(e.text());t.showLoadingDashboard=!1,a&&(null!=a.start&&(t.logStart=!1,t.startLogged=a.start,t.logBreakStart=!0),null!=a.breakStart&&(t.logBreakStart=!1,t.breakStartLogged=a.breakStart,t.logBreakEnd=!0),null!=a.breakEnd&&(t.logBreakEnd=!1,t.breakEndLogged=a.breakEnd,t.logEnd=!0),null!=a.end&&(t.logEnd=!1,t.endLogged=a.end),t.logRowKey=a.rowKey)},function(e){t.showLoadingDashboard=!1;for(var a=JSON.parse(e._body),n=0,o=a;n<o.length;n++){var r=o[n];console.log(r),$.notify({icon:"add_alert",message:r.msg},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})}}),this.tableData={headerRow:["ID","Name","Salary","Country","City"],dataRows:[["US","USA","2.920\t","53.23%"],["DE","Germany","1.300","20.43%"],["AU","Australia","760","10.35%"],["GB","United Kingdom\t","690","7.87%"],["RO","Romania","600","5.94%"],["BR","Brasil","550","4.34%"]]}},t.prototype.ngAfterViewInit=function(){$('[data-header-animation="true"]').each(function(){var t=($(this),$(this).parent(".card"));t.find(".fix-broken-card").click(function(){console.log(this);var e=$(this).parent().parent().siblings(".card-header, .card-image");e.removeClass("hinge").addClass("fadeInDown"),t.attr("data-count",0),setTimeout(function(){e.removeClass("fadeInDown animate")},480)}),t.mouseenter(function(){var t=$(this),e=parseInt(t.attr("data-count"),10)+1||0;t.attr("data-count",e),e>=20&&$(this).children(".card-header, .card-image").addClass("hinge animated")})}),$('[rel="tooltip"]').tooltip()},t.prototype.LogUpdate=function(t,e){var a=this,n={rowKey:null,agent:{rowKey:this.userModel.rowKey,fullname:this.userModel.fullname,email:this.userModel.email,cognizantId:this.userModel.cognizantId,team:this.userModel.team},workingHours:{start:this.userModel.workingHours.start,end:this.userModel.workingHours.end},date:new Date,start:null,breakStart:null,breakEnd:null,end:null,remoteIpAddress:null};0==e?(this.showLoadingStart=!0,n.start=t):1==e?(this.showLoadingBreakStart=!0,n.rowKey=this.logRowKey,n.breakStart=t):2==e?(this.showLoadingBreakEnd=!0,n.rowKey=this.logRowKey,n.breakEnd=t):3==e?(this.showLoadingEnd=!0,n.rowKey=this.logRowKey,n.end=t):4==e&&(this.showLoadingStart=!0,this.showLoadingBreakEnd=!0,n.start=t,n.breakStart=t,n.rowKey=this.logRowKey,n.breakEnd=t),console.log(n),this.jsonp.get("//api.ipify.org/?format=jsonp&callback=JSONP_CALLBACK").subscribe(function(t){var o=JSON.parse(t.text());a.remoteIpAddress=o.ip,n.remoteIpAddress=a.remoteIpAddress,a.http.post(a.apiUrl+"workinghours/log",JSON.stringify(n),{headers:a.headers}).subscribe(function(t){var n=JSON.parse(t.text());a.logRowKey=n.rowKey,0==e?(a.showLoadingStart=!1,a.logStart=!1,a.startLogged=n.start,a.logBreakStart=!0,$.notify({icon:"add_alert",message:"Welcome, "+a.userModel.fullname+"!"},{type:"success",timer:4e3,placement:{from:"top",align:"center"}})):1==e?(a.showLoadingBreakStart=!1,a.logBreakStart=!1,a.breakStartLogged=n.breakStart,a.logBreakEnd=!0,$.notify({icon:"add_alert",message:"See you soon, "+a.userModel.fullname+"..."},{type:"success",timer:4e3,placement:{from:"top",align:"center"}})):2==e?(a.showLoadingBreakEnd=!1,a.logBreakEnd=!1,a.breakEndLogged=n.breakEnd,a.logEnd=!0,$.notify({icon:"add_alert",message:"Welcome back, "+a.userModel.fullname+"!"},{type:"success",timer:4e3,placement:{from:"top",align:"center"}})):3==e?(a.showLoadingEnd=!1,a.logEnd=!1,a.endLogged=n.end,$.notify({icon:"add_alert",message:"Good-bye, "+a.userModel.fullname+"! Go home now..."},{type:"success",timer:4e3,placement:{from:"top",align:"center"}}),a.localStorageService.remove("user"),a.router.navigate(["/pages/login"])):4==e&&(a.showLoadingStart=!1,a.logStart=!1,a.startLogged=n.start,a.logBreakStart=!0,a.showLoadingBreakEnd=!1,a.logBreakEnd=!1,a.breakEndLogged=n.breakEnd,a.logEnd=!0,$.notify({icon:"add_alert",message:"Welcome, "+a.userModel.fullname+"!"},{type:"success",timer:4e3,placement:{from:"top",align:"center"}}))},function(t){var e=JSON.parse(t._body);a.showLoadingStart=!1,a.showLoadingBreakStart=!1,a.showLoadingBreakEnd=!1,a.showLoadingEnd=!1,$.notify({icon:"add_alert",message:e.error},{type:"danger",timer:4e3,placement:{from:"top",align:"center"}})})})},t=d([a.i(n.Component)({selector:"app-dashboard",template:a("Rpt0")}),c("design:paramtypes",["function"==typeof(e=void 0!==o.d&&o.d)&&e||Object,"function"==typeof(r=void 0!==o.e&&o.e)&&r||Object,"function"==typeof(g=void 0!==i.LocalStorageService&&i.LocalStorageService)&&g||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object])],t);var e,r,g,h}()},i8If:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Rw+2"),o=a("zKH5"),r=a("oUgg"),s=a("36+m"),i=a("JBcJ"),l=a("Rvy0"),d=a("o+aR");a.d(e,"DashboardModule",function(){return h});var c=this&&this.__decorate||function(t,e,a,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,a,n);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(s=(r<3?o(s):r>3?o(e,a,s):o(e,a))||s);return r>3&&s&&Object.defineProperty(e,a,s),s},g=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(){}return t=c([a.i(n.NgModule)({imports:[r.a,o.a.forChild(d.a),s.a,i.a],declarations:[l.a]}),g("design:paramtypes",[])],t)}()},"o+aR":function(t,e,a){"use strict";var n=a("Rvy0");a.d(e,"a",function(){return o});var o=[{path:"",children:[{path:"dashboard",component:n.a}]}]}});